{"remainingRequest":"C:\\PRoGRaMiNG\\Go-work\\src\\proj\\Solector\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\PRoGRaMiNG\\Go-work\\src\\proj\\Solector\\frontend\\src\\components\\Calc-for-device.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\PRoGRaMiNG\\Go-work\\src\\proj\\Solector\\frontend\\src\\components\\Calc-for-device.vue","mtime":1604301565228},{"path":"C:\\PRoGRaMiNG\\Go-work\\src\\proj\\Solector\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\PRoGRaMiNG\\Go-work\\src\\proj\\Solector\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\PRoGRaMiNG\\Go-work\\src\\proj\\Solector\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\PRoGRaMiNG\\Go-work\\src\\proj\\Solector\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgZm9ybV9oZWFkIGZyb20gJ0AvY29tcG9uZW50cy9DYWxjX2Zvcm1zL2Zvcm0taGVhZCcNCmltcG9ydCB7bG9hZFltYXB9IGZyb20gJ3Z1ZS15YW5kZXgtbWFwcycNCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7DQppbXBvcnQgVmVlVmFsaWRhdGUgZnJvbSAndmVlLXZhbGlkYXRlJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsNCiAgICBmb3JtX2hlYWQsDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBhc3luYyBqc29uU3VibWl0KCkgew0KICAgICAgdGhpcy5mb3JtLmNvb3JkcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtYXJrX2Nvb3JkIikudmFsdWUNCiAgICAgIGxldCBqc19mb3JtID0gew0KICAgICAgICBuYW1lOiAiZGV2LWNhbGMiLA0KICAgICAgICBkYXRhOiB0aGlzLmZvcm0NCiAgICAgIH0NCiAgICAgIGF3YWl0IGZldGNoKHRoaXMuYXBpVVJMLCB7DQogICAgICAgIG1ldGhvZDogJ1BPU1QnLCAvLyAqR0VULCBQT1NULCBQVVQsIERFTEVURSwgZXRjLg0KICAgICAgICBtb2RlOiAnY29ycycsIC8vIG5vLWNvcnMsICpjb3JzLCBzYW1lLW9yaWdpbg0KICAgICAgICBjYWNoZTogJ25vLWNhY2hlJywgLy8gKmRlZmF1bHQsIG5vLWNhY2hlLCByZWxvYWQsIGZvcmNlLWNhY2hlLCBvbmx5LWlmLWNhY2hlZA0KICAgICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJywgLy8gaW5jbHVkZSwgKnNhbWUtb3JpZ2luLCBvbWl0DQogICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nDQogICAgICAgICAgLy8gJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLA0KICAgICAgICB9LA0KICAgICAgICByZWRpcmVjdDogJ2ZvbGxvdycsIC8vIG1hbnVhbCwgKmZvbGxvdywgZXJyb3INCiAgICAgICAgcmVmZXJyZXJQb2xpY3k6ICduby1yZWZlcnJlcicsIC8vIG5vLXJlZmVycmVyLCAqbm8tcmVmZXJyZXItd2hlbi1kb3duZ3JhZGUsIG9yaWdpbiwgb3JpZ2luLXdoZW4tY3Jvc3Mtb3JpZ2luLCBzYW1lLW9yaWdpbiwgc3RyaWN0LW9yaWdpbiwgc3RyaWN0LW9yaWdpbi13aGVuLWNyb3NzLW9yaWdpbiwgdW5zYWZlLXVybA0KICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShqc19mb3JtKSAvLyBib2R5IGRhdGEgdHlwZSBtdXN0IG1hdGNoICJDb250ZW50LVR5cGUiIGhlYWRlcg0KICAgICAgfSkNCiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpDQogICAgICAgICAgLnRoZW4oZGF0YSA9PiB7DQogICAgICAgICAgICBjb25zb2xlLmxvZygnU3VjY2VzczonLCBkYXRhKTsNCiAgICAgICAgICB9KQ0KICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsNCiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yOicsIGVycm9yKTsNCiAgICAgICAgICB9KTsNCiAgICB9DQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGZvcm06IHsNCiAgICAgICAga2V0dGxlX2tvbDogJzAnLA0KICAgICAgICBrZXR0bGVfd3Q6ICczNjAnLA0KICAgICAgICBrZXR0bGVfaG91cjogJzEnLA0KICAgICAgICBmcmlkZ2Vfa29sOiAnMCcsDQogICAgICAgIGZyaWRnZV93dDogJzE1MCcsDQogICAgICAgIGZyaWRnZV9ob3VyOiAnNicsDQogICAgICAgIGxlZF9rb2w6ICcwJywNCiAgICAgICAgbGVkX3d0OiAnOCcsDQogICAgICAgIGxlZF9ob3VyOiAnMTInLA0KICAgICAgICBjb29rZXJfa29sOiAnMCcsDQogICAgICAgIGNvb2tlcl93dDogJzUwMCcsDQogICAgICAgIGNvb2tlcl9ob3VyOiAnMicsDQogICAgICAgIGhlYXRlcl9rb2w6ICcwJywNCiAgICAgICAgaGVhdGVyX3d0OiAnMTAwMCcsDQogICAgICAgIGhlYXRlcl9ob3VyOiAnNScsDQogICAgICAgIHdhc2hpbmdfa29sOiAnMCcsDQogICAgICAgIHdhc2hpbmdfd3Q6ICc1MDAnLA0KICAgICAgICB3YXNoaW5nX2hvdXI6ICc4JywNCiAgICAgICAgdHZfa29sOiAnMCcsDQogICAgICAgIHR2X3d0OiAnMzAwJywNCiAgICAgICAgdHZfaG91cjogJzUnLA0KICAgICAgICBsYXB0b3Bfa29sOiAnMCcsDQogICAgICAgIGxhcHRvcF93dDogJzYwJywNCiAgICAgICAgbGFwdG9wX2hvdXI6ICcxMCcsDQogICAgICAgIGNvb3JkczogIiIsDQogICAgICB9LA0KICAgICAgImFwaVVSTCI6ICJodHRwOi8vbG9jYWxob3N0OjQzMjUvY2FsY291dCIsDQogICAgICAiZm9ybV9oZWFkIjogWw0KICAgICAgICAi0K3Qu9C10LrRgtGA0L7Qv9GA0LjQsdC+0YAiLA0KICAgICAgICAi0JrQvtC70LjRh9C10YHRgtCy0L4iLA0KICAgICAgICAi0JzQvtGJ0L3QvtGB0YLRjCIsDQogICAgICAgICLQktGA0LXQvNGPINGA0LDQsdC+0YLRiyDQt9CwINC00LXQvdGMIiwNCiAgICAgIF0sDQogICAgfQ0KICB9LA0KICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLU1BUC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogIGFzeW5jIG1vdW50ZWQoKSB7DQogICAgY29uc3QgbWFwX3NldHRpbmdzID0gew0KICAgICAgYXBpS2V5OiAiNDliYTI1MzAtODI1Ny00NGNiLWIxY2ItYTE5ZmIzOWUwNDZjIiwNCiAgICAgIGxhbmc6ICdydV9SVScsDQogICAgICBjb29yZG9yZGVyOiAnbGF0bG9uZycsDQogICAgICB2ZXJzaW9uOiAnMi4xJw0KICAgIH07DQogICAgYXdhaXQgbG9hZFltYXAoe21hcF9zZXR0aW5ncywgZGVidWc6IHRydWV9KTsNCiAgICB5bWFwcy5yZWFkeShpbml0KTsNCg0KICAgIGZ1bmN0aW9uIGluaXQoKSB7DQogICAgICB2YXIgbXlQbGFjZW1hcmssDQogICAgICAgICAgbXlNYXAgPSBuZXcgeW1hcHMuTWFwKCdtYXAnLCB7DQogICAgICAgICAgICBjZW50ZXI6IFs1NS43NTM5OTQsIDM3LjYyMjA5M10sDQogICAgICAgICAgICB6b29tOiA3DQogICAgICAgICAgfSwgew0KICAgICAgICAgICAgc2VhcmNoQ29udHJvbFByb3ZpZGVyOiAneWFuZGV4I3NlYXJjaCcNCiAgICAgICAgICB9KTsNCg0KICAgICAgLy8g0KHQu9GD0YjQsNC10Lwg0LrQu9C40Log0L3QsCDQutCw0YDRgtC1Lg0KICAgICAgbXlNYXAuZXZlbnRzLmFkZCgnY2xpY2snLCBmdW5jdGlvbiAoZSkgew0KICAgICAgICB2YXIgY29vcmRzID0gZS5nZXQoJ2Nvb3JkcycpOw0KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFya19jb29yZCcpLnZhbHVlID0gY29vcmRzOw0KICAgICAgICAvLyDQldGB0LvQuCDQvNC10YLQutCwINGD0LbQtSDRgdC+0LfQtNCw0L3QsCDigJMg0L/RgNC+0YHRgtC+INC/0LXRgNC10LTQstC40LPQsNC10Lwg0LXQtS4NCiAgICAgICAgaWYgKG15UGxhY2VtYXJrKSB7DQogICAgICAgICAgbXlQbGFjZW1hcmsuZ2VvbWV0cnkuc2V0Q29vcmRpbmF0ZXMoY29vcmRzKTsNCiAgICAgICAgfQ0KICAgICAgICAvLyDQldGB0LvQuCDQvdC10YIg4oCTINGB0L7Qt9C00LDQtdC8Lg0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICBteVBsYWNlbWFyayA9IGNyZWF0ZVBsYWNlbWFyayhjb29yZHMpOw0KICAgICAgICAgIG15TWFwLmdlb09iamVjdHMuYWRkKG15UGxhY2VtYXJrKTsNCiAgICAgICAgICAvLyDQodC70YPRiNCw0LXQvCDRgdC+0LHRi9GC0LjQtSDQvtC60L7QvdGH0LDQvdC40Y8g0L/QtdGA0LXRgtCw0YHQutC40LLQsNC90LjRjyDQvdCwINC80LXRgtC60LUuDQogICAgICAgICAgbXlQbGFjZW1hcmsuZXZlbnRzLmFkZCgnZHJhZ2VuZCcsIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIGdldEFkZHJlc3MobXlQbGFjZW1hcmsuZ2VvbWV0cnkuZ2V0Q29vcmRpbmF0ZXMoKSk7DQogICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgICAgZ2V0QWRkcmVzcyhjb29yZHMpOw0KICAgICAgfSk7DQoNCiAgICAgIC8vINCh0L7Qt9C00LDQvdC40LUg0LzQtdGC0LrQuC4NCiAgICAgIGZ1bmN0aW9uIGNyZWF0ZVBsYWNlbWFyayhjb29yZHMpIHsNCiAgICAgICAgcmV0dXJuIG5ldyB5bWFwcy5QbGFjZW1hcmsoY29vcmRzLCB7DQogICAgICAgICAgaWNvbkNhcHRpb246ICfQt9C00LXRgdGMINGB0L7Qu9C90LXRh9C90LDRjyDRjdC70LXQutGC0YDQvtGB0YLQsNC90LjRhtGPJw0KICAgICAgICB9LCB7DQogICAgICAgICAgcHJlc2V0OiAnaXNsYW5kcyN2aW9sZXREb3RJY29uV2l0aENhcHRpb24nLA0KICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZQ0KICAgICAgICB9KTsNCiAgICAgIH0NCg0KICAgICAgLy8g0J7Qv9GA0LXQtNC10LvRj9C10Lwg0LDQtNGA0LXRgSDQv9C+INC60L7QvtGA0LTQuNC90LDRgtCw0LwgKNC+0LHRgNCw0YLQvdC+0LUg0LPQtdC+0LrQvtC00LjRgNC+0LLQsNC90LjQtSkuDQogICAgICBmdW5jdGlvbiBnZXRBZGRyZXNzKGNvb3Jkcykgew0KICAgICAgICBteVBsYWNlbWFyay5wcm9wZXJ0aWVzLnNldCgnaWNvbkNhcHRpb24nLCAn0YHQvtC70L3QtdGH0L3QsNGPINGN0LvQtdC60YLRgNC+0YHRgtCw0L3RhtC40Y8nKTsNCiAgICAgICAgLyogIHltYXBzLmdlb2NvZGUoY29vcmRzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsNCiAgICAgICAgICAgIG15UGxhY2VtYXJrLnByb3BlcnRpZXMNCiAgICAgICAgICAgICAgICAuc2V0KHsNCiAgICAgICAgICAgICAgICAgICJzZmRnZmhnamsiOiJzZmRnZmhnIg0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0pOyovDQogICAgICB9DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["Calc-for-device.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Calc-for-device.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <br>\r\n    <br>\r\n    <form @submit.prevent=\"jsonSubmit\">\r\n      <table>\r\n        <tr>\r\n          <form_head\r\n              v-for=\"head in form_head\"\r\n              v-bind:head=\"head\"\r\n          />\r\n        </tr>\r\n        <br>\r\n        <tr>\r\n          <td>Электрочайник</td>\r\n          <td><input type=\"number\" v-model=\"form.kettle_kol\" value=\"0\"> Шт.</td>\r\n          <td><input type=\"number\" v-model=\"form.kettle_wt\" value=\"360\"> Вт</td>\r\n          <td><input type=\"number\" v-model=\"form.kettle_hour\" val> часов</td>\r\n        </tr>\r\n        <tr>\r\n          <td>Холодильник</td>\r\n          <td><input type=\"number\" v-model=\"form.fridge_kol\"> Шт.</td>\r\n          <td><input type=\"number\" v-model=\"form.fridge_wt\"> Вт</td>\r\n          <td><input type=\"number\" v-model=\"form.fridge_hour\"> часов</td>\r\n        </tr>\r\n        <tr>\r\n          <td>Лампы</td>\r\n          <td><input type=\"number\" v-model=\"form.led_kol\"> Шт.</td>\r\n          <td><input type=\"number\" v-model=\"form.led_wt\"> Вт</td>\r\n          <td><input type=\"number\" v-model=\"form.led_hour\"> часов</td>\r\n        </tr>\r\n        <tr>\r\n          <td>Мультиварка</td>\r\n          <td><input type=\"number\" v-model=\"form.cooker_kol\"> Шт.</td>\r\n          <td><input type=\"number\" v-model=\"form.cooker_wt\"> Вт</td>\r\n          <td><input type=\"number\" v-model=\"form.cooker_hour\"> часов</td>\r\n        </tr>\r\n        <tr>\r\n          <td>Обогреватель</td>\r\n          <td><input type=\"number\" v-model=\"form.heater_kol\"> Шт.</td>\r\n          <td><input type=\"number\" v-model=\"form.heater_wt\"> Вт</td>\r\n          <td><input type=\"number\" v-model=\"form.heater_hour\"> часов</td>\r\n        </tr>\r\n        <tr>\r\n          <td>Стиральная машина</td>\r\n          <td><input type=\"number\" v-model=\"form.washing_kol\"> Шт.</td>\r\n          <td><input type=\"number\" v-model=\"form.washing_wt\"> Вт</td>\r\n          <td><input type=\"number\" v-model=\"form.washing_hour\"> часов</td>\r\n        </tr>\r\n        <tr>\r\n          <td>Телевизор</td>\r\n          <td><input type=\"number\" v-model=\"form.tv_kol\"> Шт.</td>\r\n          <td><input type=\"number\" v-model=\"form.tv_wt\"> Вт</td>\r\n          <td><input type=\"number\" v-model=\"form.tv_hour\"> часов</td>\r\n        </tr>\r\n        <tr>\r\n          <td>Ноутбук</td>\r\n          <td><input type=\"number\" v-model=\"form.laptop_kol\"> Шт.</td>\r\n          <td><input type=\"number\" v-model=\"form.laptop_wt\"> Вт</td>\r\n          <td><input type=\"number\" v-model=\"form.laptop_hour\"> часов</td>\r\n        </tr>\r\n      </table>\r\n      <br>\r\n      <table>\r\n        <tr>\r\n          <td>\r\n            <div id=\"map\" style=\"width: 1500px; height: 500px\"></div>\r\n            <input id=\"mark_coord\" type=\"text\" v-model=\"form.coords\" style=\"display: none;\">\r\n          </td>\r\n        </tr>\r\n        <input type=\"submit\" value=\"Submit\" style=\"height: 100px; width: 300px\"/>\r\n      </table>\r\n      <br>\r\n      <br>\r\n      <br>\r\n      <br>\r\n      <br>\r\n      <br>\r\n    </form>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport form_head from '@/components/Calc_forms/form-head'\r\nimport {loadYmap} from 'vue-yandex-maps'\r\nimport axios from 'axios';\r\nimport VeeValidate from 'vee-validate'\r\n\r\nexport default {\r\n  components: {\r\n    form_head,\r\n  },\r\n  methods: {\r\n    async jsonSubmit() {\r\n      this.form.coords = document.getElementById(\"mark_coord\").value\r\n      let js_form = {\r\n        name: \"dev-calc\",\r\n        data: this.form\r\n      }\r\n      await fetch(this.apiURL, {\r\n        method: 'POST', // *GET, POST, PUT, DELETE, etc.\r\n        mode: 'cors', // no-cors, *cors, same-origin\r\n        cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n        credentials: 'same-origin', // include, *same-origin, omit\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n          // 'Content-Type': 'application/x-www-form-urlencoded',\r\n        },\r\n        redirect: 'follow', // manual, *follow, error\r\n        referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\r\n        body: JSON.stringify(js_form) // body data type must match \"Content-Type\" header\r\n      })\r\n          .then(response => response.json())\r\n          .then(data => {\r\n            console.log('Success:', data);\r\n          })\r\n          .catch((error) => {\r\n            console.error('Error:', error);\r\n          });\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      form: {\r\n        kettle_kol: '0',\r\n        kettle_wt: '360',\r\n        kettle_hour: '1',\r\n        fridge_kol: '0',\r\n        fridge_wt: '150',\r\n        fridge_hour: '6',\r\n        led_kol: '0',\r\n        led_wt: '8',\r\n        led_hour: '12',\r\n        cooker_kol: '0',\r\n        cooker_wt: '500',\r\n        cooker_hour: '2',\r\n        heater_kol: '0',\r\n        heater_wt: '1000',\r\n        heater_hour: '5',\r\n        washing_kol: '0',\r\n        washing_wt: '500',\r\n        washing_hour: '8',\r\n        tv_kol: '0',\r\n        tv_wt: '300',\r\n        tv_hour: '5',\r\n        laptop_kol: '0',\r\n        laptop_wt: '60',\r\n        laptop_hour: '10',\r\n        coords: \"\",\r\n      },\r\n      \"apiURL\": \"http://localhost:4325/calcout\",\r\n      \"form_head\": [\r\n        \"Электроприбор\",\r\n        \"Количество\",\r\n        \"Мощность\",\r\n        \"Время работы за день\",\r\n      ],\r\n    }\r\n  },\r\n  //------------------------------------------------------------------------------MAP--------------------------------\r\n  async mounted() {\r\n    const map_settings = {\r\n      apiKey: \"49ba2530-8257-44cb-b1cb-a19fb39e046c\",\r\n      lang: 'ru_RU',\r\n      coordorder: 'latlong',\r\n      version: '2.1'\r\n    };\r\n    await loadYmap({map_settings, debug: true});\r\n    ymaps.ready(init);\r\n\r\n    function init() {\r\n      var myPlacemark,\r\n          myMap = new ymaps.Map('map', {\r\n            center: [55.753994, 37.622093],\r\n            zoom: 7\r\n          }, {\r\n            searchControlProvider: 'yandex#search'\r\n          });\r\n\r\n      // Слушаем клик на карте.\r\n      myMap.events.add('click', function (e) {\r\n        var coords = e.get('coords');\r\n        document.getElementById('mark_coord').value = coords;\r\n        // Если метка уже создана – просто передвигаем ее.\r\n        if (myPlacemark) {\r\n          myPlacemark.geometry.setCoordinates(coords);\r\n        }\r\n        // Если нет – создаем.\r\n        else {\r\n          myPlacemark = createPlacemark(coords);\r\n          myMap.geoObjects.add(myPlacemark);\r\n          // Слушаем событие окончания перетаскивания на метке.\r\n          myPlacemark.events.add('dragend', function () {\r\n            getAddress(myPlacemark.geometry.getCoordinates());\r\n          });\r\n        }\r\n        getAddress(coords);\r\n      });\r\n\r\n      // Создание метки.\r\n      function createPlacemark(coords) {\r\n        return new ymaps.Placemark(coords, {\r\n          iconCaption: 'здесь солнечная электростаниця'\r\n        }, {\r\n          preset: 'islands#violetDotIconWithCaption',\r\n          draggable: true\r\n        });\r\n      }\r\n\r\n      // Определяем адрес по координатам (обратное геокодирование).\r\n      function getAddress(coords) {\r\n        myPlacemark.properties.set('iconCaption', 'солнечная электростанция');\r\n        /*  ymaps.geocode(coords).then(function (res) {\r\n            myPlacemark.properties\r\n                .set({\r\n                  \"sfdgfhgjk\":\"sfdgfhg\"\r\n                });\r\n          });*/\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\ntd {\r\n  padding: 10px 10px;\r\n}\r\n\r\n</style>"]}]}