{"remainingRequest":"C:\\PRoGRaMiNG\\Go-work\\src\\proj\\Solector\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\PRoGRaMiNG\\Go-work\\src\\proj\\Solector\\frontend\\src\\components\\Calc-for-device.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\PRoGRaMiNG\\Go-work\\src\\proj\\Solector\\frontend\\src\\components\\Calc-for-device.vue","mtime":1603395312720},{"path":"C:\\PRoGRaMiNG\\Go-work\\src\\proj\\Solector\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\PRoGRaMiNG\\Go-work\\src\\proj\\Solector\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\PRoGRaMiNG\\Go-work\\src\\proj\\Solector\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\PRoGRaMiNG\\Go-work\\src\\proj\\Solector\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgZm9ybV9oZWFkIGZyb20gJ0AvY29tcG9uZW50cy9DYWxjX2Zvcm1zL2Zvcm0taGVhZCcNCmltcG9ydCB7bG9hZFltYXB9IGZyb20gJ3Z1ZS15YW5kZXgtbWFwcycNCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7DQppbXBvcnQgVmVlVmFsaWRhdGUgZnJvbSAndmVlLXZhbGlkYXRlJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsNCiAgICBmb3JtX2hlYWQsDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBhc3luYyBqc29uU3VibWl0KCkgew0KICAgICAgdGhpcy5mb3JtLmNvb3JkcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtYXJrX2Nvb3JkIikudmFsdWUNCiAgICAgIGxldCBqc19mb3JtID0gew0KICAgICAgICBuYW1lOiAiZGV2LWNhbGMiLA0KICAgICAgICBkYXRhOiB0aGlzLmZvcm0NCiAgICAgIH0NCiAgICAgIGF3YWl0IGZldGNoKHRoaXMuYXBpVVJMLCB7DQogICAgICAgIG1ldGhvZDogJ1BPU1QnLCAvLyAqR0VULCBQT1NULCBQVVQsIERFTEVURSwgZXRjLg0KICAgICAgICBtb2RlOiAnY29ycycsIC8vIG5vLWNvcnMsICpjb3JzLCBzYW1lLW9yaWdpbg0KICAgICAgICBjYWNoZTogJ25vLWNhY2hlJywgLy8gKmRlZmF1bHQsIG5vLWNhY2hlLCByZWxvYWQsIGZvcmNlLWNhY2hlLCBvbmx5LWlmLWNhY2hlZA0KICAgICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJywgLy8gaW5jbHVkZSwgKnNhbWUtb3JpZ2luLCBvbWl0DQogICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAiQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luIjogIioiLA0KICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicNCiAgICAgICAgICAvLyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsDQogICAgICAgIH0sDQogICAgICAgIHJlZGlyZWN0OiAnZm9sbG93JywgLy8gbWFudWFsLCAqZm9sbG93LCBlcnJvcg0KICAgICAgICByZWZlcnJlclBvbGljeTogJ25vLXJlZmVycmVyJywgLy8gbm8tcmVmZXJyZXIsICpuby1yZWZlcnJlci13aGVuLWRvd25ncmFkZSwgb3JpZ2luLCBvcmlnaW4td2hlbi1jcm9zcy1vcmlnaW4sIHNhbWUtb3JpZ2luLCBzdHJpY3Qtb3JpZ2luLCBzdHJpY3Qtb3JpZ2luLXdoZW4tY3Jvc3Mtb3JpZ2luLCB1bnNhZmUtdXJsDQogICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGpzX2Zvcm0pIC8vIGJvZHkgZGF0YSB0eXBlIG11c3QgbWF0Y2ggIkNvbnRlbnQtVHlwZSIgaGVhZGVyDQogICAgICB9KQ0KICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSkNCiAgICAgICAgICAudGhlbihkYXRhID0+IHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzOicsIGRhdGEpOw0KICAgICAgICAgIH0pDQogICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gew0KICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3I6JywgZXJyb3IpOw0KICAgICAgICAgIH0pOw0KICAgIH0NCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZm9ybTogew0KICAgICAgICBrZXR0bGVfa29sOiAnMCcsDQogICAgICAgIGtldHRsZV93dDogJzM2MCcsDQogICAgICAgIGtldHRsZV9ob3VyOiAnMScsDQogICAgICAgIGZyaWRnZV9rb2w6ICcwJywNCiAgICAgICAgZnJpZGdlX3d0OiAnMTUwJywNCiAgICAgICAgZnJpZGdlX2hvdXI6ICc2JywNCiAgICAgICAgbGVkX2tvbDogJzAnLA0KICAgICAgICBsZWRfd3Q6ICc4JywNCiAgICAgICAgbGVkX2hvdXI6ICcxMicsDQogICAgICAgIGNvb2tlcl9rb2w6ICcwJywNCiAgICAgICAgY29va2VyX3d0OiAnNTAwJywNCiAgICAgICAgY29va2VyX2hvdXI6ICcyJywNCiAgICAgICAgaGVhdGVyX2tvbDogJzAnLA0KICAgICAgICBoZWF0ZXJfd3Q6ICcxMDAwJywNCiAgICAgICAgaGVhdGVyX2hvdXI6ICc1JywNCiAgICAgICAgd2FzaGluZ19rb2w6ICcwJywNCiAgICAgICAgd2FzaGluZ193dDogJzUwMCcsDQogICAgICAgIHdhc2hpbmdfaG91cjogJzgnLA0KICAgICAgICB0dl9rb2w6ICcwJywNCiAgICAgICAgdHZfd3Q6ICczMDAnLA0KICAgICAgICB0dl9ob3VyOiAnNScsDQogICAgICAgIGxhcHRvcF9rb2w6ICcwJywNCiAgICAgICAgbGFwdG9wX3d0OiAnNjAnLA0KICAgICAgICBsYXB0b3BfaG91cjogJzEwJywNCiAgICAgICAgY29vcmRzOiAiIiwNCiAgICAgIH0sDQogICAgICAiYXBpVVJMIjogImh0dHA6Ly9sb2NhbGhvc3Q6NDMyNS9jYWxjb3V0IiwNCiAgICAgICJmb3JtX2hlYWQiOiBbDQogICAgICAgICLQrdC70LXQutGC0YDQvtC/0YDQuNCx0L7RgCIsDQogICAgICAgICLQmtC+0LvQuNGH0LXRgdGC0LLQviIsDQogICAgICAgICLQnNC+0YnQvdC+0YHRgtGMIiwNCiAgICAgICAgItCS0YDQtdC80Y8g0YDQsNCx0L7RgtGLINC30LAg0LTQtdC90YwiLA0KICAgICAgXSwNCiAgICB9DQogIH0sDQogIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tTUFQLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgYXN5bmMgbW91bnRlZCgpIHsNCiAgICBjb25zdCBtYXBfc2V0dGluZ3MgPSB7DQogICAgICBhcGlLZXk6ICI0OWJhMjUzMC04MjU3LTQ0Y2ItYjFjYi1hMTlmYjM5ZTA0NmMiLA0KICAgICAgbGFuZzogJ3J1X1JVJywNCiAgICAgIGNvb3Jkb3JkZXI6ICdsYXRsb25nJywNCiAgICAgIHZlcnNpb246ICcyLjEnDQogICAgfTsNCiAgICBhd2FpdCBsb2FkWW1hcCh7bWFwX3NldHRpbmdzLCBkZWJ1ZzogdHJ1ZX0pOw0KICAgIHltYXBzLnJlYWR5KGluaXQpOw0KDQogICAgZnVuY3Rpb24gaW5pdCgpIHsNCiAgICAgIHZhciBteVBsYWNlbWFyaywNCiAgICAgICAgICBteU1hcCA9IG5ldyB5bWFwcy5NYXAoJ21hcCcsIHsNCiAgICAgICAgICAgIGNlbnRlcjogWzU1Ljc1Mzk5NCwgMzcuNjIyMDkzXSwNCiAgICAgICAgICAgIHpvb206IDcNCiAgICAgICAgICB9LCB7DQogICAgICAgICAgICBzZWFyY2hDb250cm9sUHJvdmlkZXI6ICd5YW5kZXgjc2VhcmNoJw0KICAgICAgICAgIH0pOw0KDQogICAgICAvLyDQodC70YPRiNCw0LXQvCDQutC70LjQuiDQvdCwINC60LDRgNGC0LUuDQogICAgICBteU1hcC5ldmVudHMuYWRkKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7DQogICAgICAgIHZhciBjb29yZHMgPSBlLmdldCgnY29vcmRzJyk7DQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXJrX2Nvb3JkJykudmFsdWUgPSBjb29yZHM7DQogICAgICAgIC8vINCV0YHQu9C4INC80LXRgtC60LAg0YPQttC1INGB0L7Qt9C00LDQvdCwIOKAkyDQv9GA0L7RgdGC0L4g0L/QtdGA0LXQtNCy0LjQs9Cw0LXQvCDQtdC1Lg0KICAgICAgICBpZiAobXlQbGFjZW1hcmspIHsNCiAgICAgICAgICBteVBsYWNlbWFyay5nZW9tZXRyeS5zZXRDb29yZGluYXRlcyhjb29yZHMpOw0KICAgICAgICB9DQogICAgICAgIC8vINCV0YHQu9C4INC90LXRgiDigJMg0YHQvtC30LTQsNC10LwuDQogICAgICAgIGVsc2Ugew0KICAgICAgICAgIG15UGxhY2VtYXJrID0gY3JlYXRlUGxhY2VtYXJrKGNvb3Jkcyk7DQogICAgICAgICAgbXlNYXAuZ2VvT2JqZWN0cy5hZGQobXlQbGFjZW1hcmspOw0KICAgICAgICAgIC8vINCh0LvRg9GI0LDQtdC8INGB0L7QsdGL0YLQuNC1INC+0LrQvtC90YfQsNC90LjRjyDQv9C10YDQtdGC0LDRgdC60LjQstCw0L3QuNGPINC90LAg0LzQtdGC0LrQtS4NCiAgICAgICAgICBteVBsYWNlbWFyay5ldmVudHMuYWRkKCdkcmFnZW5kJywgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgZ2V0QWRkcmVzcyhteVBsYWNlbWFyay5nZW9tZXRyeS5nZXRDb29yZGluYXRlcygpKTsNCiAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgICBnZXRBZGRyZXNzKGNvb3Jkcyk7DQogICAgICB9KTsNCg0KICAgICAgLy8g0KHQvtC30LTQsNC90LjQtSDQvNC10YLQutC4Lg0KICAgICAgZnVuY3Rpb24gY3JlYXRlUGxhY2VtYXJrKGNvb3Jkcykgew0KICAgICAgICByZXR1cm4gbmV3IHltYXBzLlBsYWNlbWFyayhjb29yZHMsIHsNCiAgICAgICAgICBpY29uQ2FwdGlvbjogJ9C30LTQtdGB0Ywg0YHQvtC70L3QtdGH0L3QsNGPINGN0LvQtdC60YLRgNC+0YHRgtCw0L3QuNGG0Y8nDQogICAgICAgIH0sIHsNCiAgICAgICAgICBwcmVzZXQ6ICdpc2xhbmRzI3Zpb2xldERvdEljb25XaXRoQ2FwdGlvbicsDQogICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlDQogICAgICAgIH0pOw0KICAgICAgfQ0KDQogICAgICAvLyDQntC/0YDQtdC00LXQu9GP0LXQvCDQsNC00YDQtdGBINC/0L4g0LrQvtC+0YDQtNC40L3QsNGC0LDQvCAo0L7QsdGA0LDRgtC90L7QtSDQs9C10L7QutC+0LTQuNGA0L7QstCw0L3QuNC1KS4NCiAgICAgIGZ1bmN0aW9uIGdldEFkZHJlc3MoY29vcmRzKSB7DQogICAgICAgIG15UGxhY2VtYXJrLnByb3BlcnRpZXMuc2V0KCdpY29uQ2FwdGlvbicsICfRgdC+0LvQvdC10YfQvdCw0Y8g0Y3Qu9C10LrRgtGA0L7RgdGC0LDQvdGG0LjRjycpOw0KICAgICAgICAvKiAgeW1hcHMuZ2VvY29kZShjb29yZHMpLnRoZW4oZnVuY3Rpb24gKHJlcykgew0KICAgICAgICAgICAgbXlQbGFjZW1hcmsucHJvcGVydGllcw0KICAgICAgICAgICAgICAgIC5zZXQoew0KICAgICAgICAgICAgICAgICAgInNmZGdmaGdqayI6InNmZGdmaGciDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgfSk7Ki8NCiAgICAgIH0NCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["Calc-for-device.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Calc-for-device.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <br>\r\n    <br>\r\n    <form @submit.prevent=\"jsonSubmit\">\r\n      <table>\r\n        <tr>\r\n          <form_head\r\n              v-for=\"head in form_head\"\r\n              v-bind:head=\"head\"\r\n          />\r\n        </tr>\r\n        <br>\r\n        <tr>\r\n          <td>Электрочайник</td>\r\n          <td><input type=\"number\" v-model=\"form.kettle_kol\" value=\"0\"> Шт.</td>\r\n          <td><input type=\"number\" v-model=\"form.kettle_wt\" value=\"360\"> Вт</td>\r\n          <td><input type=\"number\" v-model=\"form.kettle_hour\" val> часов</td>\r\n        </tr>\r\n        <tr>\r\n          <td>Холодильник</td>\r\n          <td><input type=\"number\" v-model=\"form.fridge_kol\"> Шт.</td>\r\n          <td><input type=\"number\" v-model=\"form.fridge_wt\"> Вт</td>\r\n          <td><input type=\"number\" v-model=\"form.fridge_hour\"> часов</td>\r\n        </tr>\r\n        <tr>\r\n          <td>Лампы</td>\r\n          <td><input type=\"number\" v-model=\"form.led_kol\"> Шт.</td>\r\n          <td><input type=\"number\" v-model=\"form.led_wt\"> Вт</td>\r\n          <td><input type=\"number\" v-model=\"form.led_hour\"> часов</td>\r\n        </tr>\r\n        <tr>\r\n          <td>Мультиварка</td>\r\n          <td><input type=\"number\" v-model=\"form.cooker_kol\"> Шт.</td>\r\n          <td><input type=\"number\" v-model=\"form.cooker_wt\"> Вт</td>\r\n          <td><input type=\"number\" v-model=\"form.cooker_hour\"> часов</td>\r\n        </tr>\r\n        <tr>\r\n          <td>Обогреватель</td>\r\n          <td><input type=\"number\" v-model=\"form.heater_kol\"> Шт.</td>\r\n          <td><input type=\"number\" v-model=\"form.heater_wt\"> Вт</td>\r\n          <td><input type=\"number\" v-model=\"form.heater_hour\"> часов</td>\r\n        </tr>\r\n        <tr>\r\n          <td>Стиральная машина</td>\r\n          <td><input type=\"number\" v-model=\"form.washing_kol\"> Шт.</td>\r\n          <td><input type=\"number\" v-model=\"form.washing_wt\"> Вт</td>\r\n          <td><input type=\"number\" v-model=\"form.washing_hour\"> часов</td>\r\n        </tr>\r\n        <tr>\r\n          <td>Телевизор</td>\r\n          <td><input type=\"number\" v-model=\"form.tv_kol\"> Шт.</td>\r\n          <td><input type=\"number\" v-model=\"form.tv_wt\"> Вт</td>\r\n          <td><input type=\"number\" v-model=\"form.tv_hour\"> часов</td>\r\n        </tr>\r\n        <tr>\r\n          <td>Ноутбук</td>\r\n          <td><input type=\"number\" v-model=\"form.laptop_kol\"> Шт.</td>\r\n          <td><input type=\"number\" v-model=\"form.laptop_wt\"> Вт</td>\r\n          <td><input type=\"number\" v-model=\"form.laptop_hour\"> часов</td>\r\n        </tr>\r\n      </table>\r\n      <br>\r\n      <table>\r\n        <tr>\r\n          <td>\r\n            <div id=\"map\" style=\"width: 1500px; height: 500px\"></div>\r\n            <input id=\"mark_coord\" type=\"text\" v-model=\"form.coords\" style=\"display: none;\">\r\n          </td>\r\n        </tr>\r\n        <input type=\"submit\" value=\"Submit\" style=\"height: 100px; width: 300px\"/>\r\n      </table>\r\n      <br>\r\n      <br>\r\n      <br>\r\n      <br>\r\n      <br>\r\n      <br>\r\n    </form>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport form_head from '@/components/Calc_forms/form-head'\r\nimport {loadYmap} from 'vue-yandex-maps'\r\nimport axios from 'axios';\r\nimport VeeValidate from 'vee-validate'\r\n\r\nexport default {\r\n  components: {\r\n    form_head,\r\n  },\r\n  methods: {\r\n    async jsonSubmit() {\r\n      this.form.coords = document.getElementById(\"mark_coord\").value\r\n      let js_form = {\r\n        name: \"dev-calc\",\r\n        data: this.form\r\n      }\r\n      await fetch(this.apiURL, {\r\n        method: 'POST', // *GET, POST, PUT, DELETE, etc.\r\n        mode: 'cors', // no-cors, *cors, same-origin\r\n        cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n        credentials: 'same-origin', // include, *same-origin, omit\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\",\r\n          'Content-Type': 'application/json'\r\n          // 'Content-Type': 'application/x-www-form-urlencoded',\r\n        },\r\n        redirect: 'follow', // manual, *follow, error\r\n        referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\r\n        body: JSON.stringify(js_form) // body data type must match \"Content-Type\" header\r\n      })\r\n          .then(response => response.json())\r\n          .then(data => {\r\n            console.log('Success:', data);\r\n          })\r\n          .catch((error) => {\r\n            console.error('Error:', error);\r\n          });\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      form: {\r\n        kettle_kol: '0',\r\n        kettle_wt: '360',\r\n        kettle_hour: '1',\r\n        fridge_kol: '0',\r\n        fridge_wt: '150',\r\n        fridge_hour: '6',\r\n        led_kol: '0',\r\n        led_wt: '8',\r\n        led_hour: '12',\r\n        cooker_kol: '0',\r\n        cooker_wt: '500',\r\n        cooker_hour: '2',\r\n        heater_kol: '0',\r\n        heater_wt: '1000',\r\n        heater_hour: '5',\r\n        washing_kol: '0',\r\n        washing_wt: '500',\r\n        washing_hour: '8',\r\n        tv_kol: '0',\r\n        tv_wt: '300',\r\n        tv_hour: '5',\r\n        laptop_kol: '0',\r\n        laptop_wt: '60',\r\n        laptop_hour: '10',\r\n        coords: \"\",\r\n      },\r\n      \"apiURL\": \"http://localhost:4325/calcout\",\r\n      \"form_head\": [\r\n        \"Электроприбор\",\r\n        \"Количество\",\r\n        \"Мощность\",\r\n        \"Время работы за день\",\r\n      ],\r\n    }\r\n  },\r\n  //------------------------------------------------------------------------------MAP--------------------------------\r\n  async mounted() {\r\n    const map_settings = {\r\n      apiKey: \"49ba2530-8257-44cb-b1cb-a19fb39e046c\",\r\n      lang: 'ru_RU',\r\n      coordorder: 'latlong',\r\n      version: '2.1'\r\n    };\r\n    await loadYmap({map_settings, debug: true});\r\n    ymaps.ready(init);\r\n\r\n    function init() {\r\n      var myPlacemark,\r\n          myMap = new ymaps.Map('map', {\r\n            center: [55.753994, 37.622093],\r\n            zoom: 7\r\n          }, {\r\n            searchControlProvider: 'yandex#search'\r\n          });\r\n\r\n      // Слушаем клик на карте.\r\n      myMap.events.add('click', function (e) {\r\n        var coords = e.get('coords');\r\n        document.getElementById('mark_coord').value = coords;\r\n        // Если метка уже создана – просто передвигаем ее.\r\n        if (myPlacemark) {\r\n          myPlacemark.geometry.setCoordinates(coords);\r\n        }\r\n        // Если нет – создаем.\r\n        else {\r\n          myPlacemark = createPlacemark(coords);\r\n          myMap.geoObjects.add(myPlacemark);\r\n          // Слушаем событие окончания перетаскивания на метке.\r\n          myPlacemark.events.add('dragend', function () {\r\n            getAddress(myPlacemark.geometry.getCoordinates());\r\n          });\r\n        }\r\n        getAddress(coords);\r\n      });\r\n\r\n      // Создание метки.\r\n      function createPlacemark(coords) {\r\n        return new ymaps.Placemark(coords, {\r\n          iconCaption: 'здесь солнечная электростаниця'\r\n        }, {\r\n          preset: 'islands#violetDotIconWithCaption',\r\n          draggable: true\r\n        });\r\n      }\r\n\r\n      // Определяем адрес по координатам (обратное геокодирование).\r\n      function getAddress(coords) {\r\n        myPlacemark.properties.set('iconCaption', 'солнечная электростанция');\r\n        /*  ymaps.geocode(coords).then(function (res) {\r\n            myPlacemark.properties\r\n                .set({\r\n                  \"sfdgfhgjk\":\"sfdgfhg\"\r\n                });\r\n          });*/\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\ntd {\r\n  padding: 10px 10px;\r\n}\r\n\r\n</style>"]}]}