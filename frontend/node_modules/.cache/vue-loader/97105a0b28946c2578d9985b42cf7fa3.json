{"remainingRequest":"C:\\PRoGRaMiNG\\vue\\sol_mar_pl\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\PRoGRaMiNG\\vue\\sol_mar_pl\\src\\components\\Calc-for-device.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\PRoGRaMiNG\\vue\\sol_mar_pl\\src\\components\\Calc-for-device.vue","mtime":1603218384898},{"path":"C:\\PRoGRaMiNG\\vue\\sol_mar_pl\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\PRoGRaMiNG\\vue\\sol_mar_pl\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\PRoGRaMiNG\\vue\\sol_mar_pl\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\PRoGRaMiNG\\vue\\sol_mar_pl\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\PRoGRaMiNG\\vue\\sol_mar_pl\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KKiB7DQogIG1hcmdpbjogMDsNCiAgcGFkZGluZzogMDsNCn0NCg0KdGQgew0KICBwYWRkaW5nOiAxMHB4IDEwcHg7DQp9DQoNCg=="},{"version":3,"sources":["Calc-for-device.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0NA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Calc-for-device.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <br>\r\n    <br>\r\n    <form @submit.prevent=\"jsonSubmit\">\r\n      <table>\r\n        <tr>\r\n          <form_head\r\n              v-for=\"head in form_head\"\r\n              v-bind:head=\"head\"\r\n          />\r\n        </tr>\r\n        <br>\r\n        <tr>\r\n          <td>Электрочайник</td>\r\n          <td><input type=\"number\" v-model=\"form.kettle_kol\" value=\"0\"> Шт.</td>\r\n          <td><input type=\"number\" v-model=\"form.kettle_wt\" value=\"360\"> Вт</td>\r\n          <td><input type=\"number\" v-model=\"form.kettle_hour\" val> часов</td>\r\n        </tr>\r\n        <tr>\r\n          <td>Холодильник</td>\r\n          <td><input type=\"number\" v-model=\"form.fridge_kol\"> Шт.</td>\r\n          <td><input type=\"number\" v-model=\"form.fridge_wt\"> Вт</td>\r\n          <td><input type=\"number\" v-model=\"form.fridge_hour\"> часов</td>\r\n        </tr>\r\n        <tr>\r\n          <td>Лампы</td>\r\n          <td><input type=\"number\" v-model=\"form.led_kol\"> Шт.</td>\r\n          <td><input type=\"number\" v-model=\"form.led_wt\"> Вт</td>\r\n          <td><input type=\"number\" v-model=\"form.led_hour\"> часов</td>\r\n        </tr>\r\n        <tr>\r\n          <td>Мультиварка</td>\r\n          <td><input type=\"number\" v-model=\"form.cooker_kol\"> Шт.</td>\r\n          <td><input type=\"number\" v-model=\"form.cooker_wt\"> Вт</td>\r\n          <td><input type=\"number\" v-model=\"form.cooker_hour\"> часов</td>\r\n        </tr>\r\n        <tr>\r\n          <td>Обогреватель</td>\r\n          <td><input type=\"number\" v-model=\"form.heater_kol\"> Шт.</td>\r\n          <td><input type=\"number\" v-model=\"form.heater_wt\"> Вт</td>\r\n          <td><input type=\"number\" v-model=\"form.heater_hour\"> часов</td>\r\n        </tr>\r\n        <tr>\r\n          <td>Стиральная машина</td>\r\n          <td><input type=\"number\" v-model=\"form.washing_kol\"> Шт.</td>\r\n          <td><input type=\"number\" v-model=\"form.washing_wt\"> Вт</td>\r\n          <td><input type=\"number\" v-model=\"form.washing_hour\"> часов</td>\r\n        </tr>\r\n        <tr>\r\n          <td>Телевизор</td>\r\n          <td><input type=\"number\" v-model=\"form.tv_kol\"> Шт.</td>\r\n          <td><input type=\"number\" v-model=\"form.tv_wt\"> Вт</td>\r\n          <td><input type=\"number\" v-model=\"form.tv_hour\"> часов</td>\r\n        </tr>\r\n        <tr>\r\n          <td>Ноутбук</td>\r\n          <td><input type=\"number\" v-model=\"form.laptop_kol\"> Шт.</td>\r\n          <td><input type=\"number\" v-model=\"form.laptop_wt\"> Вт</td>\r\n          <td><input type=\"number\" v-model=\"form.laptop_hour\"> часов</td>\r\n        </tr>\r\n      </table>\r\n      <br>\r\n      <table>\r\n        <tr>\r\n          <td>\r\n            <div id=\"map\" style=\"width: 1500px; height: 500px\"></div>\r\n            <input id=\"mark_coord\" type=\"text\" v-model=\"form.coords\" style=\"display: none;\">\r\n          </td>\r\n        </tr>\r\n        <input type=\"submit\" value=\"Submit\"/>\r\n      </table>\r\n      <br>\r\n      <br>\r\n      <br>\r\n      <br>\r\n      <br>\r\n      <br>\r\n    </form>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport form_head from '@/components/Calc_forms/form-head'\r\nimport {loadYmap} from 'vue-yandex-maps'\r\n\r\nexport default {\r\n  components: {\r\n    form_head,\r\n  },\r\n  methods: {\r\n    async jsonSubmit() {\r\n      this.form.coords = document.getElementById(\"mark_coord\").value\r\n      let js_form = {\r\n        name: \"dev-calc\",\r\n        data: this.form\r\n      }\r\n      let response = await fetch(this.apiURL, {\r\n        method: 'POST',\r\n        mode: 'no-cors',\r\n        headers: {\r\n          'Calculator-form': 'application/json;charset=utf-8'\r\n        },\r\n        body: JSON.stringify(js_form)\r\n      })\r\n      if (response.ok) { // если HTTP-статус в диапазоне 200-299\r\n                         // получаем тело ответа (см. про этот метод ниже)\r\n        let json = await response.json();\r\n      } else {\r\n        alert(\"Ошибка HTTP: \" + response.status);\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      form: {\r\n        kettle_kol: '0',\r\n        kettle_wt: '360',\r\n        kettle_hour: '1',\r\n        fridge_kol: '0',\r\n        fridge_wt: '150',\r\n        fridge_hour: '6',\r\n        led_kol: '0',\r\n        led_wt: '8',\r\n        led_hour: '12',\r\n        cooker_kol: '0',\r\n        cooker_wt: '500',\r\n        cooker_hour: '2',\r\n        heater_kol: '0',\r\n        heater_wt: '1000',\r\n        heater_hour: '5',\r\n        washing_kol: '0',\r\n        washing_wt: '500',\r\n        washing_hour: '8',\r\n        tv_kol: '0',\r\n        tv_wt: '300',\r\n        tv_hour: '5',\r\n        laptop_kol: '0',\r\n        laptop_wt: '60',\r\n        laptop_hour: '10',\r\n        coords: \"\",\r\n      },\r\n      \"apiURL\": \"http://localhost:4325/jokes\",\r\n      \"form_head\": [\r\n        \"Электроприбор\",\r\n        \"Количество\",\r\n        \"Мощность\",\r\n        \"Время работы за день\",\r\n      ],\r\n    }\r\n  },\r\n  //------------------------------------------------------------------------------MAP--------------------------------\r\n  async mounted() {\r\n    const map_settings = {\r\n      apiKey: \"49ba2530-8257-44cb-b1cb-a19fb39e046c\",\r\n      lang: 'ru_RU',\r\n      coordorder: 'latlong',\r\n      version: '2.1'\r\n    };\r\n    await loadYmap({map_settings, debug: true});\r\n    ymaps.ready(init);\r\n\r\n    function init() {\r\n      var myPlacemark,\r\n          myMap = new ymaps.Map('map', {\r\n            center: [55.753994, 37.622093],\r\n            zoom: 7\r\n          }, {\r\n            searchControlProvider: 'yandex#search'\r\n          });\r\n\r\n      // Слушаем клик на карте.\r\n      myMap.events.add('click', function (e) {\r\n        var coords = e.get('coords');\r\n        document.getElementById('mark_coord').value = coords;\r\n        // Если метка уже создана – просто передвигаем ее.\r\n        if (myPlacemark) {\r\n          myPlacemark.geometry.setCoordinates(coords);\r\n        }\r\n        // Если нет – создаем.\r\n        else {\r\n          myPlacemark = createPlacemark(coords);\r\n          myMap.geoObjects.add(myPlacemark);\r\n          // Слушаем событие окончания перетаскивания на метке.\r\n          myPlacemark.events.add('dragend', function () {\r\n            getAddress(myPlacemark.geometry.getCoordinates());\r\n          });\r\n        }\r\n        getAddress(coords);\r\n      });\r\n\r\n      // Создание метки.\r\n      function createPlacemark(coords) {\r\n        return new ymaps.Placemark(coords, {\r\n          iconCaption: 'здесь солнечная электростаниця'\r\n        }, {\r\n          preset: 'islands#violetDotIconWithCaption',\r\n          draggable: true\r\n        });\r\n      }\r\n\r\n      // Определяем адрес по координатам (обратное геокодирование).\r\n      function getAddress(coords) {\r\n        myPlacemark.properties.set('iconCaption', 'солнечная электростанция');\r\n        /*  ymaps.geocode(coords).then(function (res) {\r\n            myPlacemark.properties\r\n                .set({\r\n                  \"sfdgfhgjk\":\"sfdgfhg\"\r\n                });\r\n          });*/\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\ntd {\r\n  padding: 10px 10px;\r\n}\r\n\r\n</style>"]}]}